<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${seller.companyName}">Продавец</title>
</head>
<body>
<section layout:fragment="content">
    <div class="container mt-4">
        <nav aria-label="breadcrumb" class="mb-4">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a th:href="@{/}">Главная</a>
                </li>
                <li class="breadcrumb-item active" th:text="${seller.companyName}">Продавец</li>
            </ol>
        </nav>

        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card">
                    <div class="card-body text-center">
                        <img th:if="${seller.logoUrl}" th:src="${seller.logoUrl}"
                             class="img-fluid rounded mb-3" style="max-height: 200px;"
                             alt="Логотип компании">
                        <h3 th:text="${seller.companyName}">Компания</h3>

                        <div class="mb-3">
                            <span th:each="i: ${#numbers.sequence(1, 5)}">
                                <i th:class="${i <= seller.rating} ?
                                           'bi bi-star-fill text-warning' :
                                           'bi bi-star text-warning'"></i>
                            </span>
                            <div class="text-muted" th:text="${seller.rating} + ' из 5'">4.5 из 5</div>
                            <div class="text-muted" th:text="${seller.reviewCount} + ' отзывов'">120 отзывов</div>
                        </div>

                        <div class="mt-3">
                            <a th:href="@{/reviews/seller/{id}/add(id=${seller.id})}"
                               class="btn btn-outline-primary me-2">
                                <i class="bi bi-star me-1"></i>Оставить отзыв
                            </a>
                            <a th:href="@{/reviews/seller/{id}(id=${seller.id})}"
                               class="btn btn-outline-secondary">
                                <i class="bi bi-chat-dots me-1"></i>
                                Все отзывы
                                <span th:if="${seller.reviewCount > 0}"
                                      class="badge bg-primary ms-1"
                                      th:text="${seller.reviewCount}">12</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-8">
                <div class="card">
                    <div class="card-body">
                        <h4>Информация о продавце</h4>

                        <div class="row mb-3">
                            <div class="col-6">
                                <strong>Город:</strong>
                                <div th:text="${seller.city}">Москва</div>
                            </div>
                            <div class="col-6">
                                <strong>Адрес:</strong>
                                <div th:text="${seller.address}">ул. Примерная, 123</div>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-6">
                                <strong>Телефон:</strong>
                                <div th:text="${seller.phone}">+7 (123) 456-78-90</div>
                            </div>
                            <div class="col-6">
                                <strong>Email:</strong>
                                <div th:text="${seller.email}">info@company.ru</div>
                            </div>
                        </div>

                        <div th:if="${seller.website}" class="mb-3">
                            <strong>Сайт:</strong>
                            <div>
                                <a th:href="@{'https://' + ${seller.website}}"
                                   target="_blank" th:text="${seller.website}">www.company.ru</a>
                            </div>
                        </div>

                        <div th:if="${seller.description}" class="mb-3">
                            <strong>Описание:</strong>
                            <p th:text="${seller.description}">Описание компании</p>
                        </div>

                        <div th:if="${seller.yearsOnMarket}" class="mb-3">
                            <strong>Лет на рынке:</strong>
                            <div th:text="${seller.yearsOnMarket}">5</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>